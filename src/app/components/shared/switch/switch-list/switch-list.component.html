<mat-accordion>
  <mat-expansion-panel
    (opened)="panelOpen = true"
    (closed)="panelOpen = false"
    [expanded]="expanded"
  >
    <mat-expansion-panel-header>
      <mat-panel-title> {{title}} </mat-panel-title>
      <mat-panel-description> </mat-panel-description>
    </mat-expansion-panel-header>
    <p
      *ngFor="let module of modules; let i = index"
      [ngClass]="{ 'switch-separator': !isLast(i, modules) }"
      class="switch-container"
    >
      {{ module.description }}
      <label class="switch">
        <input
          type="checkbox"
          [attr.checked]="module.selected ? 'checked' : null"
          (change)="onSelect(module, modules)"
        >
        <span class="slider round"></span>
      </label>
    </p>
  </mat-expansion-panel>
</mat-accordion>
